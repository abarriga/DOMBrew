var D,Node,d;d=document,Node=function(){function f(a,f,g){var h,i,j,k,l;f==null&&(f={});if(a.nodeType){this.e=a;return}if(a==="text"){this.e=d.createTextNode(f);return}typeof f=="string"&&(g||(g={}),g.text=f,f=g),this.e=d.createElement(e(a,f)),f["class"]&&(this.e.className=c(f["class"]))&&delete f["class"],f.text&&(this.e.innerText=c(f.text))&&delete f.text,f.html&&(this.e.innerHTML=c(f.html))&&delete f.html;if(f.css&&(k=this.e.style)&&(h=f.css)&&delete f.css)for(j in h)l=h[j],k[j]=l;b(f);for(i in f)l=f[i],this.e.setAttribute(i,l)}var a,b,c,e;return f.prototype._brew=1,b=function(a){var b,c,d,e;for(b in a){c=a[b];if(typeof a[b]=="object"){for(d in c)e=c[d],a[b+"-"+d.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()]=e;delete a[b]}}},a=/[.#]/,e=function(b,c){var d,e,f,g,h,i,j;if(!a.test(b))return b;c["class"]||(c["class"]=[]),typeof c["class"]=="string"&&(c["class"]=[c["class"]]),a.test(b.charAt(0))&&(b="div"+b),g=b.split(a),e=g.shift(),h=e.length,d=c["class"];for(i=0,j=g.length;i<j;i++)f=g[i],b.charAt(h)==="#"?c.id=f:d.push(f),h+=f.length+1;return c["class"].length||delete c["class"],e},c=function(a){var b,c,d;if(typeof a!="object")return a;d=[],b=-1,c=a.length;while(++b<c)a[b]&&d.push(a[b]);return d.join(" ")},f.prototype.append=function(){var a,b,c,d;a=arguments,"splice"in a[0]&&(a=a[0]);for(c=0,d=a.length;c<d;c++)b=a[c],"_brew"in b&&(b=b.dom()),this.e.appendChild(b);return this},f.prototype.prepend=function(){var a,b,c,d;a=arguments,"splice"in a[0]&&(a=a[0]);for(c=0,d=a.length;c<d;c++)b=a[c],"_brew"in b&&(b=b.dom()),this.e.insertBefore(b,this.e.firstChild);return this},f.prototype.dom=function(){return this.e},f.prototype.html=function(){var a;return a=d.createElement("div"),a.appendChild(this.e),a.innerHTML},f}(),Node.prototype.asDOM=Node.prototype.dom,Node.prototype.asHTML=Node.prototype.html,this.DOMBrew=D=function(){var a,b,c,e,f,g;a=arguments,typeof a[0]=="object"&&"splice"in a[0]?e=a[0]:a.length>1&&typeof a[1]=="object"&&"_brew"in a[1]&&(e=a);if(e){b=d.createDocumentFragment();for(f=0,g=e.length;f<g;f++)c=e[f],b.appendChild(c.e?c.e:c);a=[b]}return new Node(a[0],a[1],a[2])},D.VERSION=D.version="1.4.4",navigator.appName!=="Microsoft Internet Explorer"&&!HTMLElement.prototype.innerText&&HTMLElement.prototype.__defineGetter__&&(HTMLElement.prototype.__defineGetter__("innerText",function(){return this.textContent}),HTMLElement.prototype.__defineSetter__("innerText",function(a){return this.textContent=a}));